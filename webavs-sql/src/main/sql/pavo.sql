--WEBAVS-2998 / D0188
INSERT INTO SCHEMA.FWCOSP (PCOSID,PPTYGR,PCONCS,PPTYCN,PPTYCL,PPTYSA,PCOSLI,PCOSDF,PCOSDM,PCOSDP,PCOIAN,PCOIDE,PCODFI,PCOITC,PCOISE,PSPY) VALUES (312004,'CICODSPE',1,1,0,0,'NonFormateur_NonActif',2,1,2,2,2,2,10300012,0,'20161006MMO');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (312004,'D','04','Revenu non formateur pour personne de condition non active','20161006MMO');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (312004,'F','04','Revenu non formateur pour personne de condition non active','20161006MMO');

UPDATE SCHEMA.CIECRIP SET KBTSPE = 312004 WHERE KBIECR IN
(
	SELECT  ec.KBIECR  
	FROM SCHEMA.CIECRIP ec inner join SCHEMA.afaffip af on (ec.KBITIE = af.MAIAFF)
	where ec.KBTGEN = 310007 AND SUBSTR(ec.KBLESP,1,4) >= '2016' and MATTAF = 804004
);

UPDATE SCHEMA.CIECRIP SET KBTSPE = 0 WHERE KBIECR IN
(
	SELECT  ec.KBIECR  
	FROM SCHEMA.CIECRIP ec inner join SCHEMA.afaffip af on (ec.KBITIE = af.MAIAFF)
	where ec.KBTGEN = 310007 AND SUBSTR(ec.KBLESP,1,4) < '2016' and MATTAF = 804004
);


UPDATE SCHEMA.FWCOUP SET PCOLUT = 'Nicht rentenbildendes Einkommen für Nichterwerbstätige Person', PSPY = '20161109DCL' WHERE PCOSID = 312004 AND PLAIDE = 'D';