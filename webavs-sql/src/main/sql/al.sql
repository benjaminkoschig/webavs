-- S190829_006 - Impôts à la source pour la FPV. Etape 1
-- Ajout d'une propriété
INSERT INTO SCHEMA.JADEPROP (PROPNAME,PROPVAL,CSPY,PSPY) VALUES ('al.impotsource.utilise','false','20191112150736GLOBAZ   ','20191112150736GLOBAZ   ');
-- Ajout d'une colonne à la table ALENTPRE (ALEnTetePrestationSimpleModel.xml)
ALTER TABLE SCHEMA.ALENTPRE ADD COLUMN MOIST NUMERIC(8,2);
-- Ajout de deux colonnes à la table ALDETPRE (ALDetailPrestationSimpleModel.xml)
ALTER TABLE SCHEMA.ALDETPRE ADD COLUMN NMOIMS NUMERIC(8,2);
ALTER TABLE SCHEMA.ALDETPRE ADD COLUMN NUMCIS VARCHAR(20);
-- Ajout des types d'imposition en BDD
INSERT INTO SCHEMA.FWCOSP (PCOSID,PPTYGR,PCONCS,PPTYCN,PPTYCL,PPTYSA,PCOSLI,PCOSDF,PCOSDM,PCOSDP,PCOIAN,PCOIDE,PCODFI,PCOITC,PCOISE,PSPY) VALUES (67000024,'PTTYPIMP',0,1,3,0,'type_imposition',0,2,2,2,2,0,0,0,'20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOSP (PCOSID,PPTYGR,PCONCS,PPTYCN,PPTYCL,PPTYSA,PCOSLI,PCOSDF,PCOSDM,PCOSDP,PCOIAN,PCOIDE,PCODFI,PCOITC,PCOISE,PSPY) VALUES (68024001,'PTTYPIMP',1,1,0,0,'IMPOT-SOURCE',2,1,2,2,2,2,67000024,0,'20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOSP (PCOSID,PPTYGR,PCONCS,PPTYCN,PPTYCL,PPTYSA,PCOSLI,PCOSDF,PCOSDM,PCOSDP,PCOIAN,PCOIDE,PCODFI,PCOITC,PCOISE,PSPY) VALUES (68024002,'PTTYPIMP',1,1,0,0,'COMMISSION-DE-PERCEPTION',2,1,2,2,2,2,67000024,0,'20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (67000024,'D','1','type_imposition','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (67000024,'F','1','type_imposition','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (67000024,'I','1','type_imposition','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024001,'F','IS','Impôt à la source','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024001,'D','IS','?Impôt à la source','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024001,'I','IS','?Impôt à la source','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024002,'F','CP','Commission de perception','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024002,'D','CP','?Commission de perception','20191212120000EBSC  ');
INSERT INTO SCHEMA.FWCOUP (PCOSID,PLAIDE,PCOUID,PCOLUT,PSPY) VALUES (68024002,'I','CP','?Commission de perception','20191212120000EBSC  ');
-- Création de la table des taux d'imposition
CREATE TABLE SCHEMA.ALTAUXIMP
(
   ID decimal(15,0) PRIMARY KEY NOT NULL,
   PERIODE_DEBUT decimal(15,0) NOT NULL,
   PERIODE_FIN decimal(8,0),
   CS_CANTON decimal(8,0) NOT NULL,
   CS_TYPE_IMP decimal(8,0) NOT NULL,
   TAUX decimal(8,5) NOT NULL,
   CSPY varchar(24),
   PSPY varchar(24)
);