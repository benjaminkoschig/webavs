<?xml version="1.0" encoding="ISO-8859-1"?>
<!--globaz.jade.publish.provider.JadePublishResourceLocator: liste des ressources disponibles pour la publication-->
<globaz.jade.publish.provider.JadePublishResourceLocator>
	<!--resources: liste des ressources-->
	<resources>
		<!--resource: declaration d'une ressource -->
		<!--  name [REQUIRED]: nom de la ressource -->
		<!--  class [REQUIRED]: classe a utiliser pour la ressource (doit implementer JadePublishResource) -->
		<!--  archiving: true si la resource est destinee a l'archivage, false sinon; defaut=false-->

		<resource name="Mail" class="globaz.jade.publish.provider.mail.JadePublishResourceImpl">
			<!--export.xml: indique si DocumentInfo doit egalement etre publie au format XML-->
			<export.xml>true</export.xml>
		</resource>
		<resource name="MailWithXML" archiving="true" class="globaz.jade.publish.provider.mail.JadePublishResourceImpl">
			<!--export.xml: indique si DocumentInfo doit egalement etre publie au format XML-->
			<export.xml>true</export.xml>
		</resource>
		
		<resource name="GED_TI" archiving="true" class="globaz.jade.publish.provider.ged.JadePublishResourceImpl">
			<!--adapter: adaptateur a utiliser; si pas declare ou vide, on utilise l'adaptateur JadeGedFacade-->
			<!--  name [REQUIRED]: nom de l’adaptateur-->
			<adapter name="JadeGedFacade"/>
		</resource>
		<resource name="GEDOS" archiving="true" class="globaz.jade.publish.provider.ged.JadePublishResourceImpl">
			<adapter name="gedos"/>
		</resource>
				
		<resource name="MailWithoutUID" class="globaz.jade.publish.provider.mail.JadePublishResourceImpl">
			<!--export.xml: indique si DocumentInfo doit egalement etre publie au format XML-->
			<export.xml>false</export.xml>
			<remove.uid>true</remove.uid>
		</resource>

		<resource name="Zip" class="globaz.jade.publish.provider.zip.JadePublishResourceImpl">
			<!--next.resource: indique le nom de la resource vers laquelle publier le fichier apres compression-->
			<next.resource>Mail</next.resource>
		</resource>		
		
		

		<resource name="SWITCH_SORTIE" class="globaz.jade.publish.provider.switcher.JadePublishResourceImpl">
			<default.resource>Mail</default.resource>
			<properties>
				<property name="ownerId" value="opercot">
					<resource>REP_MASSE</resource>
				</property>
				<property name="jobType" value="42002302">
					<resource>REP_MASSE_LAMAL</resource>
				</property>
			</properties>
		</resource>
		<resource name="REP_MASSE" class="globaz.jade.publish.provider.file.JadePublishResourceImpl">
			<destination.url>D:\data</destination.url>
		</resource>
		<resource name="REP_MASSE_LAMAL" class="globaz.jade.publish.provider.file.JadePublishResourceImpl">
			<destination.url>D:\data</destination.url>
		</resource>
		<resource name="SwitchWatermarkDecisionNonValidee" class="globaz.jade.publish.provider.switcher.JadePublishResourceImpl">
			<default.resource>MailWithWatermarkDecisionNonValidee</default.resource>
			<properties>
				<property name="isDecisionValidee" value="true">
					<resource>Mail</resource>
				</property>
			</properties>
		</resource>				 
		<resource name="MailWithWatermarkDecisionNonValidee" class="globaz.jade.publish.provider.pdfimage.JadePublishResourceImpl">
		<!--next.resource [REQUIRED]: nom de la ressource a laquelle transmettre le document apres ajout des textes-->
			<next.resource>Mail</next.resource>
			<!-- images [REQUIRED]: liste des proprietes a ajouter -->
			<properties>
				<!--add: declaration d'une image a ajouter dans le fichier-->
				<!--  filename [REQUIRED]: nom du fichier contenant l'image a ajouter dans le fichier-->
				<!--  cm.from.left: distance depuis le bord gauche de la page (en centimetres)-->
				<!--  cm.from.right: distance depuis le bord droit de la page (en centimetres)-->
				<!--                 (utilisee seulement si cm.from.left=0)-->
				<!--  cm.from.bottom: distance depuis le bas de la page (en centimetres)-->
				<!--  cm.from.top: distance depuis le haut de la page (en centimetres)-->
				<!--                 (utilisee seulement si cm.from.bottom=0)-->
				<!--  cm.height: hauteur de l'image (en centimetres)-->
				<!--  cm.width: largeur de l'image (en centimetres)-->
				<!--  full.page: elargir l'image a toute la page, false par defaut-->
				<add>
					<filename>images/watermark_decision_non_validee.png</filename>
					<full.page>true</full.page>
				</add>
			</properties>
		</resource>
		<resource name="PdfSplitAttestationFiscale" class="globaz.jade.publish.provider.pdfsplit.JadePublishResourceImpl">
			<max.pages>1</max.pages>
			<lower.filename>attestations_fiscales_1_pages</lower.filename>
			<upper.filename>attestations_fiscales_2_pages_et_plus</upper.filename>
			<next.resource>REP_MASSE</next.resource>
		</resource>
		<!--  Point d'entrée DAC, application du watermark -->
		<resource name="SwitchWatermarkDecisionNonValideeRFM" class="globaz.jade.publish.provider.switcher.JadePublishResourceImpl">
		   <default.resource>Mail</default.resource>
		    <properties>
			    <property name="isDecisionValidee" value="true">
			    	<resource>AddWatermarkDecisionNonValideeRFM</resource>
			    </property>
		    </properties>
		 </resource>
		<!--  Répertoire pour les décisions RFM -->
		<resource name="AddWatermarkDecisionNonValideeRFM" class="globaz.jade.publish.provider.pdfimage.JadePublishResourceImpl">
			<!--next.resource [REQUIRED]: nom de la ressource a laquelle transmettre le document apres ajout des textes-->
			<next.resource>Mail</next.resource>
			<!-- images [REQUIRED]: liste des proprietes a ajouter -->
			<properties>
				<!--add: declaration d'une image a ajouter dans le fichier-->
				<!--  filename [REQUIRED]: nom du fichier contenant l'image a ajouter dans le fichier-->
				<!--  cm.from.left: distance depuis le bord gauche de la page (en centimetres)-->
				<!--  cm.from.right: distance depuis le bord droit de la page (en centimetres)-->
				<!--                 (utilisee seulement si cm.from.left=0)-->
				<!--  cm.from.bottom: distance depuis le bas de la page (en centimetres)-->
				<!--  cm.from.top: distance depuis le haut de la page (en centimetres)-->
				<!--                 (utilisee seulement si cm.from.bottom=0)-->
				<!--  cm.height: hauteur de l'image (en centimetres)-->
				<!--  cm.width: largeur de l'image (en centimetres)-->
				<!--  full.page: elargir l'image a toute la page, false par defaut-->
				<add>
					<filename>images/watermark_decision_non_validee.png</filename>
					<full.page>true</full.page>
					<cm.height>10</cm.height>
					<cm.width>10</cm.width>
				</add>
			</properties>
		</resource>
		
	<!-- Switch principal décisions après calcul si décision validée, on envoie vers le switch mail/ftp si la décision n'est pas validée, on ajoute le watermark avant --> 
		<resource name="SwitchDAC" class="globaz.jade.publish.provider.switcher.JadePublishResourceImpl"> 
		<default.resource>WatermarkDecisionNonValidee</default.resource> 
			<properties> 
				<property name="isDecisionValidee" value="true"> 
					<resource>SwitchMailFTP</resource> 
				</property> 
			</properties> 
		</resource> 

		<!-- ajout watermark si decision non validée redirection ensuite vers le switch mail/ftp --> 
		<resource name="WatermarkDecisionNonValidee" class="globaz.jade.publish.provider.pdfimage.JadePublishResourceImpl"> 
			<next.resource>Mail</next.resource>
			<!-- <next.resource>SwitchMailFTP</next.resource> -->
				<properties> 
					<add> 
						<filename>images/watermark_decision_non_validee.png</filename> 
						<full.page>true</full.page> 
					</add> 
				</properties> 
		</resource> 
		<!-- choix de la destination de publication, mail par defaut si un des deux parametres ftp present envoi vers la ressource desiree --> 
		<resource name="SwitchMailFTP" class="globaz.jade.publish.provider.switcher.JadePublishResourceImpl"> 
			<default.resource>Mail</default.resource> 
			<properties> 
				<property name="isDacValidFtpAuto" value="true"> 
					<resource>FtpValid</resource> 
				</property> 
				<property name="isDacPreValidFtpAuto" value="true"> 
					<resource>FtpPreValid</resource> 
				</property> 
			</properties> 	
		</resource> 

		<!-- publication sur systeme de fichier pour decision prevalide --> 
		<resource name="FtpPreValid" class="globaz.jade.publish.provider.file.JadePublishResourceImpl"> 
			<destination.url>/../ftpPreValid</destination.url> 
		</resource> 

		<!-- publication sur systeme de fichier pour decision valide --> 
		<resource name="FtpValid" class="globaz.jade.publish.provider.file.JadePublishResourceImpl"> 
			<destination.url>/../ftpValid</destination.url> 
		</resource>

	</resources>
</globaz.jade.publish.provider.JadePublishResourceLocator>
